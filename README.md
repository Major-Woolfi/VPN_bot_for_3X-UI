# üöÄ VPN Telegram Bot (3X-UI)

Telegram-–±–æ—Ç –¥–ª—è –ø—Ä–æ–¥–∞–∂–∏ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è VPN-–ø–æ–¥–ø–∏—Å–∫–∞–º–∏ —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π **3X-UI Panel**. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä—É—á–Ω—É—é –æ–ø–ª–∞—Ç—É, –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–æ–≤ –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö inbounds, —É—á—ë—Ç —Ç—Ä–∞—Ñ–∏–∫–∞ –∏ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –ø—Ä—è–º–æ –≤ Telegram.

–ü—Ä–æ–µ–∫—Ç –Ω–∞–ø–∏—Å–∞–Ω –Ω–∞ **Python** –∏ —Ä–∞—Å—Å—á–∏—Ç–∞–Ω –Ω–∞ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω—ã–π —Ö–æ—Å—Ç–∏–Ω–≥.

---

## ‚ú® –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üë§ –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

* –ü—Ä–æ—Å–º–æ—Ç—Ä —Ç–∞—Ä–∏—Ñ–æ–≤
* –ü–æ–∫—É–ø–∫–∞ VPN-–ø–æ–¥–ø–∏—Å–∫–∏
* –ü—Ä–æ—Å–º–æ—Ç—Ä –∞–∫—Ç–∏–≤–Ω–æ–π –ø–æ–¥–ø–∏—Å–∫–∏
* –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—Å—Ç–∞—Ç–∫–∞ —Ç—Ä–∞—Ñ–∏–∫–∞
* –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ VPN (sub URL)
* –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –æ–∫–æ–Ω—á–∞–Ω–∏–∏ –ø–æ–¥–ø–∏—Å–∫–∏

### üëë –î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤

* –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –±–æ—Ç—É (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –∞–∫—Ç–∏–≤–Ω—ã–µ VPN, –±–∞–Ω—ã)
* –†—É—á–Ω–æ–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ / –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–µ–π
* –¢–µ—Å—Ç–æ–≤–∞—è –≤—ã–¥–∞—á–∞ –ø–æ–¥–ø–∏—Å–æ–∫
* –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∏ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
* –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –ø–æ–¥–ø–∏—Å–æ–∫ —á–µ—Ä–µ–∑ Telegram

### üîå –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å 3X-UI

* –†–∞–±–æ—Ç–∞ —Å–æ –≤—Å–µ–º–∏ –≤–∫–ª—é—á—ë–Ω–Ω—ã–º–∏ **inbounds**
* –°–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ **–≤ –∫–∞–∂–¥–æ–º inbound**
* –£–¥–∞–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ –∏–∑ –≤—Å–µ—Ö inbounds –ø–æ base email
* –ü–æ–¥—Å—á—ë—Ç —Ç—Ä–∞—Ñ–∏–∫–∞ –∫–∞–∫ —Å—É–º–º—ã –ø–æ –≤—Å–µ–º –∫–ª–∏–µ–Ω—Ç–∞–º
* –ü–æ–¥–¥–µ—Ä–∂–∫–∞ VLESS / VMess / Trojan

---

## üß± –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

* Python 3.10+
* aiogram 3.x
* SQLite (—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)
* JSON (–æ–∂–∏–¥–∞—é—â–∏–µ –ø–ª–∞—Ç–µ–∂–∏)
* 3X-UI Panel API
* asyncio
* requests

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
.
‚îú‚îÄ‚îÄ main.py              # –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –±–æ—Ç–∞
‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îú‚îÄ‚îÄ users.db         # SQLite –±–∞–∑–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îÇ   ‚îî‚îÄ‚îÄ await_payments.json  # –û–∂–∏–¥–∞—é—â–∏–µ –ø–ª–∞—Ç–µ–∂–∏
‚îú‚îÄ‚îÄ logs/
‚îÇ   ‚îî‚îÄ‚îÄ YYYY-MM-DD.log   # –õ–æ–≥–∏ –±–æ—Ç–∞
‚îî‚îÄ‚îÄ README.md
```

---

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∑–∞–¥–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ **–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è** –∏–ª–∏ –ø—Ä—è–º–æ –≤ –∫–ª–∞—Å—Å–µ `Config`.

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

```env
BOT_TOKEN=123456:ABCDEF
ADMIN_USER_IDS=123456789,987654321
PANEL_BASE=https://panel.example.com
PANEL_LOGIN=admin
PANEL_PASSWORD=admin_password
SUB_PANEL_BASE=https://panel.example.com/sub/
```

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

```env
PAYMENT_CARD_NUMBER=0000 1111 2222 3333
SITE_URL=https://example.com
TG_CHANNEL=https://t.me/example
SUPPORT_URL=https://t.me/support
VERIFY_SSL=true
```

---

## üí≥ –õ–æ–≥–∏–∫–∞ –æ–ø–ª–∞—Ç—ã

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç —Ç–∞—Ä–∏—Ñ
2. –ü–µ—Ä–µ–≤–æ–¥–∏—Ç –¥–µ–Ω—å–≥–∏ –≤—Ä—É—á–Ω—É—é (–∫–∞—Ä—Ç–∞)
3. –ù–∞–∂–∏–º–∞–µ—Ç ¬´–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –æ–ø–ª–∞—Ç—É¬ª
4. –ó–∞–ø—Ä–æ—Å –ø–æ–ø–∞–¥–∞–µ—Ç –≤ `await_payments.json`
5. –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä:

   * –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –ø–ª–∞—Ç—ë–∂ ‚Üí —Å–æ–∑–¥–∞—ë—Ç—Å—è VPN
   * –∏–ª–∏ –æ—Ç–∫–ª–æ–Ω—è–µ—Ç –ø–ª–∞—Ç—ë–∂ ‚Üí –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ

‚ö†Ô∏è **–í–∞–∂–Ω–æ:** –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ –ø–ª–∞—Ç–µ–∂—É –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)

---

## üì¶ –¢–∞—Ä–∏—Ñ—ã (–ø—Ä–∏–º–µ—Ä)

| –¢–∞—Ä–∏—Ñ    | –¶–µ–Ω–∞  | IP | –¢—Ä–∞—Ñ–∏–∫ |
| -------- | ----- | -- | ------ |
| –ë–∞–∑–æ–≤—ã–π  | 100 ‚ÇΩ | 2  | 100 –ì–ë |
| –°—Ç–∞–Ω–¥–∞—Ä—Ç | 200 ‚ÇΩ | 5  | 500 –ì–ë |
| –ü—Ä–µ–º–∏—É–º  | 300 ‚ÇΩ | 10 | 2 –¢–ë   |

> ‚ö†Ô∏è –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ç–∞—Ä–∏—Ñ–æ–≤ **–Ω—É–∂–Ω–æ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å**:
>
> * —Ç–µ–∫—Å—Ç—ã
> * –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–∫—É–ø–∫–∏
> * `plan_params`

---

## üîÅ –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã —Å –∫–ª–∏–µ–Ω—Ç–∞–º–∏ 3X-UI

* Base email: `user_<telegram_id>@vpn.com`
* –í –∫–∞–∂–¥—ã–π inbound –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –∫–ª–∏–µ–Ω—Ç —Å **—Ä–∞–Ω–¥–æ–º–Ω—ã–º –ø—Ä–µ—Ñ–∏–∫—Å–æ–º**
* –ü—Ä–∏ –ø–æ–∏—Å–∫–µ / —É–¥–∞–ª–µ–Ω–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `email[2:]`
* –¢—Ä–∞—Ñ–∏–∫ —Å—É–º–º–∏—Ä—É–µ—Ç—Å—è –ø–æ –≤—Å–µ–º –∫–ª–∏–µ–Ω—Ç–∞–º

–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç:

* –æ–±—Ö–æ–¥–∏—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –æ–¥–Ω–æ–≥–æ inbound
* –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å—á–∏—Ç–∞—Ç—å —Ç—Ä–∞—Ñ–∏–∫
* –±–µ–∑–æ–ø–∞—Å–Ω–æ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–≤–∞—Ç—å –∫–ª–∏–µ–Ω—Ç–æ–≤

---

## ‚è± –§–æ–Ω–æ–≤—ã–µ –∑–∞–¥–∞—á–∏

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–æ–∫ (–∫–∞–∂–¥—ã–π —á–∞—Å)

* –ü—Ä–æ–≤–µ—Ä—è–µ—Ç `expiryTime`
* –£–¥–∞–ª—è–µ—Ç –∫–ª–∏–µ–Ω—Ç–æ–≤ –ø—Ä–∏ –æ–∫–æ–Ω—á–∞–Ω–∏–∏
* –û—á–∏—â–∞–µ—Ç –ø–æ–¥–ø–∏—Å–∫—É –≤ –ë–î

### –û—á–∏—Å—Ç–∫–∞ –ø–ª–∞—Ç–µ–∂–µ–π (—Ä–∞–∑ –≤ 3 –¥–Ω—è)

* –£–¥–∞–ª—è–µ—Ç —Å—Ç–∞—Ä—ã–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∏ (>30 –¥–Ω–µ–π)

---

## üö´ –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∏

* –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏:

  * –Ω–µ –º–æ–≥—É—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –±–æ—Ç–æ–º
  * –≤–∏–¥—è—Ç –ø—Ä–∏—á–∏–Ω—É –±–∞–Ω–∞
* –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –Ω–µ–ª—å–∑—è

---

## ‚ñ∂Ô∏è –ó–∞–ø—É—Å–∫

```bash
python main.py
```

–ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ:

* `BOT_TOKEN` –∑–∞–¥–∞–Ω
* 3X-UI –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ —Å–µ—Ç–∏
* –ª–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å –ø–∞–Ω–µ–ª–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã

---

## üìå –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ –ø—Ä–∏–º–µ—á–∞–Ω–∏—è

* –ü–ª–∞—Ç–µ–∂–∏ **–Ω–µ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω—ã** (–±–µ–∑ API –±–∞–Ω–∫–∞)
* FSM —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –ø–∞–º—è—Ç–∏ (MemoryStorage)
* –û–¥–∏–Ω —Ñ–∞–π–ª ‚Äî –º–æ–Ω–æ–ª–∏—Ç (–æ—Å–æ–∑–Ω–∞–Ω–Ω–æ)

---

## üß† –ò–¥–µ–∏ –¥–ª—è –±—É–¥—É—â–µ–≥–æ (–≥—Ä–∞—Ñ–∞ –¥–ª—è –º–µ–Ω—è)

* –ê–≤—Ç–æ–ø–ª–∞—Ç–µ–∂–∏ (Crypto / YooKassa / Stripe), –∫–æ–≥–¥–∞ –∏—Å–ø–æ–ª–Ω–∏—Ç—Å—è 16
* –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞

---

## ‚ù§Ô∏è –ê–≤—Ç–æ—Ä

–°–¥–µ–ª–∞–Ω–æ —á–µ–ª–æ–≤–µ–∫–æ–º –¥–ª—è –ª—é–¥–µ–π.

–ï—Å–ª–∏ —Ç—ã —ç—Ç–æ —á–∏—Ç–∞–µ—à—å ‚Äî –∑–Ω–∞—á–∏—Ç, –∫–æ–¥ –∂–∏–≤—ë—Ç üòâ
